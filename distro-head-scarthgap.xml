<?xml version="1.0" encoding="UTF-8"?>

<!--

distro-head-scarthgap (5.0) is used as template for manifests that capture commit-id
** LONG TERM SUPPORT 04/2028 **

initialize, pre bitbake

mkdir -p /srv/repo/distro-core && cd /srv/repo/distro-core
printf "\n\ny\n\n" | repo init -u https://github.com/distro-core/distro-manifest.git -b main -m distro-head-scarthgap.xml -\-no-clone-bundle -\-groups default,workflows
repo sync -\-force-sync -\-force-checkout -\-force-remove-dirty -\-no-repo-verify

git -C .repo/manifests branch -D main
git -C .repo/manifests checkout -\-track origin/main
git -C .repo/manifests branch -D default

repo forall -c 'echo $REPO_PATH $REPO_RREV; git checkout -\-track $(git remote)/$REPO_RREV'
repo status

commit-id manifest, post bitbake, success

repo manifest -\-revision-as-HEAD -\-output-file= .repo/manifests/distro-refs-scarthgap.xml -\-pretty

-->

<manifest>

    <!-- remotes reflect external github curated mirrors -->
    <default sync-c="true" sync-s="false" sync-tags="false" />

    <remote
        name="remote-distro-core"
        fetch="https://github.com/distro-core"
        alias="origin"
    />
    <remote
        name="remote-distro-core-curated-mirrors"
        fetch="https://github.com/distro-core-curated-mirrors"
        alias="origin"
    />

    <project
        name="meta-distro"
        path="layers/meta-distro"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="non-confidential,base"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    >
        <linkfile
            src=".gitignore"
            dest=".gitignore"
        />
        <linkfile
            src=".vscode"
            dest=".vscode"
        />
    </project>

    <!-- upstream mirrors projects -->
    <project
        name="meta-amd"
        path="layers/meta-amd"
        remote="remote-distro-core-curated-mirrors"
        revision="kirkstone"
        upstream="kirkstone"
        groups="notdefault,non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://git.yoctoproject.org/meta-amd"
        />
    </project>
    <project
        name="meta-arm"
        path="layers/meta-arm"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="notdefault,non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://git.yoctoproject.org/meta-arm"
        />
    </project>
    <project
        name="meta-clang"
        path="layers/meta-clang"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="notdefault,non-confidential,base"
    >
        <annotation
            name="src_uri"
            value="https://github.com/kraj/meta-clang.git"
        />
    </project>
    <project
        name="meta-dpdk"
        path="layers/meta-dpdk"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="notdefault,non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://git.yoctoproject.org/meta-dpdk"
        />
    </project>
    <project
        name="meta-freescale"
        path="layers/meta-freescale"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="notdefault,non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://github.com/Freescale/meta-freescale.git"
        />
    </project>
    <project
        name="meta-freescale-3rdparty"
        path="layers/meta-freescale-3rdparty"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="notdefault,non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://github.com/Freescale/meta-freescale-3rdparty.git"
        />
    </project>
    <project
        name="meta-intel"
        path="layers/meta-intel"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://git.yoctoproject.org/meta-intel"
        />
    </project>
    <project
        name="yocto-meta-kde"
        path="layers/meta-kde"
        remote="remote-distro-core-curated-mirrors"
        revision="master"
        upstream="master"
        groups="notdefault,non-confidential,base"
    >
        <annotation
            name="src_uri"
            value="https://github.com/KDE/yocto-meta-kde.git"
        />
    </project>
    <project
        name="yocto-meta-kf5"
        path="layers/meta-kf5"
        remote="remote-distro-core-curated-mirrors"
        revision="master"
        upstream="master"
        groups="notdefault,non-confidential,base"
    >
        <annotation
            name="src_uri"
            value="https://github.com/KDE/yocto-meta-kf5.git"
        />
    </project>
    <project
        name="yocto-meta-kf6"
        path="layers/meta-kf6"
        remote="remote-distro-core-curated-mirrors"
        revision="master"
        upstream="master"
        groups="notdefault,non-confidential,base"
    >
        <annotation
            name="src_uri"
            value="https://github.com/KDE/yocto-meta-kf6.git"
        />
    </project>
    <project
        name="meta-mingw"
        path="layers/meta-mingw"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,base"
    >
        <annotation
            name="src_uri"
            value="https://git.yoctoproject.org/meta-mingw"
        />
    </project>
    <project
        name="meta-openembedded"
        path="layers/.meta-openembedded"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,base"
    >
        <linkfile
            src="meta-oe"
            dest="layers/meta-oe"
        />
        <linkfile
            src="meta-filesystems"
            dest="layers/meta-filesystems"
        />
        <linkfile
            src="meta-networking"
            dest="layers/meta-networking"
        />
        <linkfile
            src="meta-perl"
            dest="layers/meta-perl"
        />
        <linkfile
            src="meta-python"
            dest="layers/meta-python"
        />
        <linkfile
            src="meta-gnome"
            dest="layers/meta-gnome"
        />
        <linkfile
            src="meta-multimedia"
            dest="layers/meta-multimedia"
        />
        <linkfile
            src="meta-webserver"
            dest="layers/meta-webserver"
        />
        <linkfile
            src="meta-xfce"
            dest="layers/meta-xfce"
        />
        <annotation
            name="src_uri"
            value="https://git.openembedded.org/meta-openembedded"
        />
    </project>
    <project
        name="meta-openembedded-contrib"
        path="layers/meta-openembedded-contrib"
        remote="remote-distro-core-curated-mirrors"
        revision="stable/scarthgap-nut"
        upstream="stable/scarthgap-nut"
        groups="notdefault,non-confidential,base"
    >
        <annotation
            name="src_uri"
            value="https://git.openembedded.org/meta-openembedded-contrib"
        />
    </project>
    <project
        name="meta-qt5"
        path="layers/meta-qt5"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="notdefault,non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://github.com/meta-qt5/meta-qt5.git"
        />
    </project>
    <project
        name="meta-qt6"
        path="layers/meta-qt6"
        remote="remote-distro-core-curated-mirrors"
        revision="lts-6.5"
        upstream="lts-6.5"
        groups="notdefault,non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://code.qt.io/yocto/meta-qt6.git"
        />
    </project>
    <project
        name="meta-raspberrypi"
        path="layers/meta-raspberrypi"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://github.com/agherzan/meta-raspberrypi.git"
        />
    </project>
    <!-- <project
        name="meta-riscv"
        path="layers/meta-riscv"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://github.com/riscv/meta-riscv.git"
        />
    </project> -->
    <project
        name="meta-rust"
        path="layers/meta-rust"
        remote="remote-distro-core-curated-mirrors"
        revision="master"
        upstream="master"
        groups="notdefault,non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://github.com/meta-rust/meta-rust.git"
        />
    </project>
    <project
        name="meta-secure-core"
        path="layers/.meta-secure-core"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,base"
    >
        <linkfile
            src="meta-secure-core-common"
            dest="layers/meta-secure-core-common"
        />
        <linkfile
            src="meta-efi-secure-boot"
            dest="layers/meta-efi-secure-boot"
        />
        <linkfile
            src="meta-encrypted-storage"
            dest="layers/meta-encrypted-storage"
        />
        <linkfile
            src="meta-integrity"
            dest="layers/meta-integrity"
        />
        <linkfile
            src="meta-signing-key"
            dest="layers/meta-signing-key"
        />
        <linkfile
            src="meta-tpm2"
            dest="layers/meta-tpm2"
        />
        <annotation
            name="src_uri"
            value="https://github.com/Wind-River/meta-secure-core.git"
        />
    </project>
    <project
        name="meta-security"
        path="layers/.meta-security"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,base"
    >
        <linkfile
            src="meta-hardening"
            dest="layers/meta-hardening"
        />
        <linkfile
            src="meta-integrity"
            dest="layers/meta-integrity"
        />
        <linkfile
            src="meta-parsec"
            dest="layers/meta-parsec"
        />
        <linkfile
            src="meta-tpm"
            dest="layers/meta-tpm"
        />
        <annotation
            name="src_uri"
            value="https://git.yoctoproject.org/meta-security"
        />
    </project>
    <project
        name="meta-selinux"
        path="layers/meta-selinux"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,base"
    >
        <annotation
            name="src_uri"
            value="https://git.yoctoproject.org/meta-selinux"
        />
    </project>
    <project
        name="meta-tegra"
        path="layers/meta-tegra"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,bsp"
    >
        <annotation
            name="src_uri"
            value="https://github.com/OE4T/meta-tegra.git"
        />
    </project>
    <project
        name="meta-updater"
        path="layers/meta-updater"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,base"
    >
        <annotation
            name="src_uri"
            value="https://github.com/uptane/meta-updater.git"
        />
    </project>
    <project
        name="meta-virtualization"
        path="layers/meta-virtualization"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,base"
    >
        <annotation
            name="src_uri"
            value="https://git.yoctoproject.org/meta-virtualization"
        />
    </project>
    <project
        name="poky"
        path="layers/poky"
        remote="remote-distro-core-curated-mirrors"
        revision="scarthgap"
        upstream="scarthgap"
        groups="non-confidential,base"
    >
        <annotation
            name="src_uri"
            value="https://git.yoctoproject.org/poky"
        />
    </project>

    <!-- github actions: MACHINE workflows -->
    <project
        name=".github"
        path="workflows/dot.github"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="notdefault,non-confidential,workflows"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    />
    <project
        name=".github-private"
        path="workflows/dot.github-private"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="notdefault,non-confidential,private"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    />
    <project
        name="workflows-com-cexpress-bt"
        path="workflows/workflows-com-cexpress-bt"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="notdefault,non-confidential,workflows"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    />
    <project
        name="workflows-com-cexpress-sl"
        path="workflows/workflows-com-cexpress-sl"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="notdefault,non-confidential,workflows"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    />
    <project
        name="workflows-sbc-gene-bt05"
        path="workflows/workflows-sbc-gene-bt05"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="notdefault,non-confidential,workflows"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    />
    <project
        name="workflows-sbc-pine64-star64"
        path="workflows/workflows-sbc-pine64-star64"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="notdefault,non-confidential,private"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    />
    <project
        name="workflows-sbc-raspberrypi5"
        path="workflows/workflows-sbc-raspberrypi5"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="notdefault,non-confidential,workflows"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    />
    <project
        name="workflows-sbc-xavier-nx-devkit"
        path="workflows/workflows-sbc-xavier-nx-devkit"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="notdefault,non-confidential,workflows"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    />
    <project
        name="workflows-wsl-amd64"
        path="workflows/workflows-wsl-amd64"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="notdefault,non-confidential,workflows"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    />
    <project
        name="workflows-wsl-arm64"
        path="workflows/workflows-wsl-arm64"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="notdefault,non-confidential,workflows"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    />
    <!-- github actions: actions library -->
    <project
        name="actions"
        path="workflows/actions"
        remote="remote-distro-core"
        revision="main"
        upstream="main"
        groups="notdefault,non-confidential,workflows"
        sync-c="false"
        sync-s="false"
        sync-tags="true"
    />

</manifest>
